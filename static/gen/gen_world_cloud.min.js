var words=["Hundred Years+Christian+Constantinople+1452+Venetian+Byzantine+Byzantine+Genoese+Venetian Crete+Ottomans+Halil Pasha+West+Lycus+Pope Eugene IV+Ubertino Pusculo+1450+Genoese+Ulubatlı Hasan+Nicolò Barbaro+Byzantine Church+Constantinople+Golden Horn+Ottoman+Princes+Princes+Palaiologos+Giustiniani+Union+Byzantines+Golden Horn+European+Constantinople+Constantinople+Mehmed+Cardinal Isidore+Venetians+Bosphorus+Prince Orhan+Greek+1453+Saruca+Byzantine Empire+Johannes Grant+Sea+Greek+Galata+Kiev+Branković+Mehmed II+Turkish+Galata+Roman+Byzantines+Peloponnese+Latins+Byzantine Emperor Constantine XI+Ancona+Byzantines+Byzantine+Alviso Diedo+Emperor+Venetian+Chio+Catalan+Emperor Constantine XI Palaiologos+1444+Niccolò Barbaro+Walls+Loukas Notaras+Gabriele Orsini+1274+Mehmed+Latin+Byzantine+Sea+Ottomans+Venetians+Dorgano+Filippo Contarini+England+Spanish+Venosa+Sicily+Zagan Pasha+Eleutherios+Byzantine Emperor Michael+Constantinople+Golden Horn+Ottoman+Byzantine Empire+Rome+Thomas+Manuel+Peloponnese+Serbian+Ottomans+Marmara+Sphrantzes+Anatolia+Isidore+Ghazis+Constantinople+Hungarian+Constantine+Venetian+waterThe+Nicephorus Palaeologus+Reconquista+Golden Horn Wall+Constantinople+Venice+Southern Greece+Mehmed II+Ottoman+Marmara+Mehmed II+Ottoman+Mehmed+Demetrios+Genoese+Venetian+Emperor+Jacobo Contarini+Mehmed+Mytilene Leonardo+Bosphorus+Western Europe+Turkish+Golden Gate+Greek+Horn+Galata+Ottomans+Stoudion+Latins+Republic+Cataneo+Sultan+Trebizond+Sultan+Leonardo+Theodosian+Golden Horn+European+Nicaea+Boğazkesen+Constantinople+Byzantine+Mehmed+Vespers+Mese+1453+ChioMehmed+Luckily+Turkish+Barbaro+Greeks+Latins+Genoese+Gabriele Trevisano+Archbishop+1204+Constantine+Tedaldi+Latins+Edirne+Sultan+1452+Joan de+Golden Horn+Church+Emperor+Giustiniani+Golden Horn+1349+Battle+Giustiniani+1204+Karaca Pasha+Western+Ottoman+Harbour+Orban+John Justinian+Golden Horn+1204+Archbishop Leonardo+Baltoghlu+Christian+Mehmed+Ottoman Turks+Urban+Ottoman Army+Constantinople+Bocchiardi+Petra+Byzantines+Zagan Pasha+Constantinople+Turkish+Greeks+Byzantine+Latin Church+Mehmed II+Second Council+Church+Pope+Lyon+Turkish+Venetian+Forty Italians+Cardinal Isidore+George Sphrantzes+France+Augusteum+Genoese+Lycus+Fourth Crusade+Bulgarians+Late Middle Ages+Genoa+1453+Turkish+Ottomans+Holy Apostles+Mehmed+Varna+Golden+Sea+Italy+Venetians+Zagan Pasha+Venice+Golden+Florentine+Ottomans+Pegae Gate+Christian+Blachernae+Giovanni Giustiniani+Europe+Venetian+Mehmed+Genoa+1439+Halil Pasha+Saruca+Land Wall+Sea+Ottoman+Marmara+Edirne+France+Ottoman+Babylon+soldiersThe Ottomans+Greeks+Roman Empire+Hungarian+Charisian Gate+San Romano+Ottoman Empire+Hagia Sophia+Venetian+Genoese Chios+siegeConstantinople+Emperor+Adrianople+Golden+Branković+Byzantines+1452+Ottoman+Greek+Ottoman Empire+West+1451+1453+Greek+Spain+Neapolitan+Mehmed+Anatolian Turkmen+1500+Turks+Therapia+Christian+Jacopo Tedaldi+1452+Novo Brdo+Constantinople+Ottoman+Hagia Sophia+Constantinople+Emperor Constantine+John VIII+Constantinople+Pope+Girolamo Minotto+Baltoghlu+Constantinople+Mehmed+Constantinople+1453+Senate+Ottoman+Black+Western+Italian+Marmara+Constantinople+Chios+Ottoman+1346+Golden Horn+Great+Poland+Emperor+Baltoghlu+Demetrius Cantacuzenus+Byzantine Empire+Serbs+Greek+Christian+Constantinople+Byzantines+Pera+Ottoman+Barbaro+Saruca+Emperor+Conqueror+Blachernae Palace+Edirne+Turks+Pope Nicholas V+Constantine+Mehmed+Pegae Gate+Ottoman+Council+Turks+Walls+Serbian+Constantinople+Balzo+Golden Horn+Pere Julià+German+Michael Critobulus+Europe+Archbishop Leonardo+Venetians+Horn+Constantinople+Karadja Pasha+Langasco+1452+Constantinople+Rumeli Hisarı+Great+Great Logothete George Sphrantzes+Byzantines+Genoese+Italians+Aragon+Kiev+Florence+Black Sea+Latin+Mehmed II+Ottomans+Turks+Mystras+Genoese+Mehmed+Russian+Turkmen+Mehmed+European+Venetians+Epirus+1453+Turkish+Orban+Fourth Crusade+Emperor Constantine XI+Constantinople+Mehmed+Genoese+Niccolò Barbaro+Byzantines+1182+Orban+Empire of Trebizond+Giustiniani+Holy Apostles+Byzantines+Aegean+Rumelia+Mehmed+Ishak Pasha+metresThe+Constantinople+Ottoman+Mehmed+Golden Horn+Constantinople+Giovanni Giustiniani+Ottoman+Holy Roman Empire+Black Death+Marmara+Golden Horn+David Nicolle+Constantine XI Palaiologos+Turkish+Genoa+Pope Nicholas+Emperor John+Admiral Baltoghlu+Sea+Ottoman+Golden Horn+Studius+Turakhan Beg+Hungary+Kingdoms+Greek+Venice+Mehmed+1261+Byzantine Empire+Ottoman+Byzantine Empire+Byzantine+Pope Nicholas V+Mehmed+Byzantine+Kiev+Emperor+Venetian+Fourth Crusade+Nestor+Greek+Genoese+Aegean+Orban+Roman+Sultan+Balkans+Bosphorus+Cardinal Isidore+Via+Constantine XI+Blachernae+Sultan Mehmed II+Naples+Rumeli+Venetian+Anadolu Hisarı+Byzantine+Mehmed+Venetian+Byzantine+Ugento+Gallipoli+Constantinople+Golden Horn+Mehmed II+European+Massacre+Golden Horn+Pope+Capital+Great Palace+Teodoro Caristo+Palaiologoi","Christian+Sicily+Venetian+Venetians+Tuscany+Jacopo Ligozzi+SicilyThe Christian+Marco Antonio Bragadin+Colonna+Nicosia+Pope Pius V+Turks+Greek+John+Paul K. Davis+Spanish Crown+Sirocco+1574+Pope Pius V+Greeks+Venetian+Spanish Empire+Spanish+Adriatic+Ottoman+Savoy+Venice+Christians+Catholic+Melilla+Lepanto+Dalmatia+Genoese Giovanni Andrea Doria+Real+Italian+John+Saint Stephen+Ottomans+Mediterranean+Lepanto+Holy League+Cretan+John+Genoa+Modon+Andrea+Venetian+Saint Stephen+Catholic+Austria+Marcantonio Colonna+Christians+Santo Stefano+Holy League+Venier+Turkish+Ottoman+thatThe+Turks+Italian+Venice+Serious+Ottoman Empire+Ottoman Empire+Urbino+Left Division+Syrians+Salamis+Janissaries+North+Pius V+Pisa+Ottoman Empire+Ottoman Empire+1571+Gibraltar+Christian+Europe+Barbary+Marcantonio Colonna+Holy League+Barbarigo+Holy League+League+Magnificent+Christian+Republic+Spanish Tercio+Sicily+Christian+Greeks+Christian+Genoa+Turkish+Don Juan+Ottoman+Don Juan+Doria+Venetian+Sirocco+Cavalieri+Real+Savoy+Kingdom+Christians+Dalmatia+Genoese Gianandrea Doria+Naples+1573+Holy League+John+Don Juan+Knights+Papal States+Ottomans+Venetian+1580+Ceuta+squadronsAli Pasha+Famagusta+Messina+Eastern Mediterranean+Malta+Lepanto+Grand Vizier Sokollu Mehmed Pasha+Friuli+Messina+Austria+Knights+Venice+Pietro Giustiniani+Sirocco+Lepanto+Lepanto+Duchy+Duchy+Christians+Spanish Empire+Holy League+Berbers+Knights+Greek+Mediterranean+Cephalonia+Austria+Cyprus+Mediterranean+John+Victory+Mediterranean+Ottoman+Naples+Ottoman Empire+Mehmed Siroco+Venetian+Malta+Genoese Gianandrea Doria+Roman Marcantonio Colonna+Lepanto+Austria+Selim II+Ali Pasha+Pope Pius V+Real+Grand Duchy+Doria+Tuscany+Philip II+Finlay+Tunis+Christian+Oran+Marco Querini+Pope+Ali+Turks+Christian+Kılıç Ali Pasha+Lala Kara Mustafa Pasha+Lepanto+Venice+Kingdom+Spain+Pope Pius V+Philip II+1574+Knights+Christian+Papal States+Sami+Lepanto+Spanish+Venice+Western+Orsini+Sultan Selim II+Battle+Return+Pope Pius V+Knights+Sicily+cowardsThe+Doria+Spanish+Venetian+Doria+Europe+Barbarigo+Sardinia+Mehmed Sirocco+Malta+Messina+Ottoman+Christian+John+Barbarigo+Turkish+1851+Uluç Ali+Turks+Spanish+Dalmatian+Marcantonio Barbaro+Venice+Kingdom+Ottoman+Spanish Empire+Ali Pasha+Ottoman+Holy League+Saint Stephen+Kingdom+Ottoman+Turkish+Holy League+Muslim+Papal+Holy League+Venetian+Austria+Ottoman+Naples+Turkish+Real+West+Western+1549+Paul K. Davis+Battle+Müezzinzade Ali Pasha+Venetian+Uluç Ali+1645+Christian+Cyprus+George Finlay+Ottoman Empire+Christian+Spain+Colonna+Knights+Ottoman+Protestant Reformation+Spain+Lepanto+Lepanto+Genoese+Ottoman Empire+Sacrament+Mehmed Şuluk+Mahomet Sirocco+Cyprus+1572+Germans+Turks+Ottoman+Christian+Mediterranean Sea+Val+Lepanto+Antonio+Agostino Barbarigo+Bazán+Venetian+Cyprus+Corinth+Christendom+Ali Pasha+Christian+Christian+bowmenThe Christian+Christian+Ali Pasha+Alexandria+Venetian+Holy League+Greece+Republic+Ottoman+Grand Duchy+Sebastiano Venier+Turks+1572+Philip II+Christian+Spain+Ottoman+Messina+Christian+Holy League+Kingdom+John+1573+1610+Europe+Venier+Ottoman Empire+1570+Ottoman+Venetian+Spaniards+Savoy+Ottoman+1571+Spanish+Saint Stephen+Cyprus+Don Juan+Ali Pasha+Morocco+Sebastiano Venier+Sebastiano Venier+Holy League+Paolo Giordano+Knights+Ottoman+Europe+Patras+1576+Venice+Venetian+Pisa+Cyprus+Republic+Venetian+Fez+Republic+Venetian+Republic+Spanish+African+Turkish+1572+Christian+Ottoman+Naples+Ottomans+Malta+Knights Hospitaller+Uluç Ali+Papal States+Naupactus+Venetian+Abdul Malik+Patras+Philip II+Spanish+Ottoman+Christian+Marcantonio Colonna+Turks+Kingdoms+Centre Division+Turkish+Battle+Mediterranean+Christian+Cyprus+Greeks+Tuscany+Colonna+Holy League+Mediterranean+Holy League+Italian+Turks+Calabria+Greek+Battle+1571+European+Italian+Europe+Ottoman+Tunis+Venetian+Venice+Sultana+John+Empire+Christian+Western+Austria+Habsburg+Spain+Uluç Ali+Ottoman+1571+Spanish Empire+Real+Ottoman+Spain+Turkish+Porte+Holy League+Álvaro"]
function wordCloud(selector){var fill=d3.scale.category20();var svg=d3.select(selector).append("svg").attr("width",1000).attr("height","auto").attr("max-height","100%").attr("viewBox","0 0 1000 600").attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(500,300)");function draw(words){var cloud=svg.selectAll("g text").data(words,function(d){return d.text;})
cloud.enter().append("text").style("font-family","Impact").style("fill",function(d,i){return fill(i);}).attr("text-anchor","middle").attr('font-size',1).text(function(d){return d.text;});cloud.transition().duration(600).style("font-size",function(d){return d.size+"px";}).attr("transform",function(d){return"translate("+[d.x,d.y]+")rotate("+d.rotate+")";}).style("fill-opacity",1);cloud.exit().transition().duration(200).style('fill-opacity',1e-6).attr('font-size',1).remove();}
return{update:function(words){d3.layout.cloud().size([1000,600]).words(words).padding(1).spiral("archimedean").rotate(function(){return(~~(Math.random()*4)-2)*30;}).font("Impact").fontSize(function(d){return d.size;}).on("end",draw).start();}}}
function calculateFrequency(arr){return arr.reduce(function(countMap,word){word=word.toLowerCase();countMap[word]=(countMap[word]||0)+1;return countMap;},{});}
function getWords(i){var cals=words[i].replace(/[!\,:;\?]/g,'').split('+')
var frequency=calculateFrequency(cals);return cals.map(function(d){var base=Math.random()*60;var normalizedWord=d.toLowerCase();var count=(frequency[normalizedWord]+1>10)?10:frequency[normalizedWord]+1;var acc=1+(count-1)/(10-1);if(d.match(/^\d{4}$/)){acc+=0.15;}
if(/\s/.test(d)&&d.length<20){acc+=0.35}
var size=base*acc*0.8;var r=Math.random();if(size>80){size-=(size-60)*r}
if(size<40){size+=r*(60-size)}
return{text:d,size:size};})}
function showNewWords(vis,i){i=i||0;vis.update(getWords(i++%words.length))
setTimeout(function(){showNewWords(vis,i)},1800)}
var myWordCloud=wordCloud('.about-page');showNewWords(myWordCloud);

var words=["Blachernae+Constantine+siegeConstantinople+Ulubatlı Hasan+Branković+Greek+Alviso Diedo+Republic+Byzantine+Venetian+Luckily+Edirne+Orban+Church+Ottomans+Karaca Pasha+Golden Horn+Sultan Mehmed II+Venetians+Venetian+Late Middle Ages+Turks+Orban+Ottoman Empire+Mehmed II+Pope+Greek+Chio+Latins+Constantinople+Venetian+Golden+Church+Augusteum+Sultan+Boğazkesen+1452+Byzantine+Girolamo Minotto+Byzantines+Emperor+Italians+Jacopo Tedaldi+Edirne+Ottoman+Mehmed+Jacobo Contarini+Venice+Marmara+Kingdoms+Mystras+Great+Venetian Crete+Constantinople+Mehmed+Golden+Serbian+Marmara+Golden Horn Wall+Sultan+Peloponnese+England+Naples+Capital+Aegean+Galata+1452+Byzantine Church+Barbaro+Emperor+Emperor Constantine XI+Holy Apostles+Greek+Byzantines+Genoese+Ottomans+France+Hundred Years+Emperor+Pegae Gate+Ottomans+Chios+1452+Greek+Golden+Golden Horn+1346+1500+Giovanni Giustiniani+Massacre+Ottoman+Golden Horn+Constantinople+Byzantine+Constantinople+Ottoman+Byzantine Emperor Constantine XI+1453+Mehmed+John Justinian+Emperor+Byzantine+Niccolò Barbaro+Russian+Pope Eugene IV+Zagan Pasha+Venetian+Adrianople+Venice+Horn+Florentine+Turks+Anadolu Hisarı+Turkish+Fourth Crusade+Constantinople+Cardinal Isidore+Ottoman+Venetians+Byzantine Empire+Byzantines+Pope Nicholas V+Genoese+Golden Gate+Theodosian+Golden Horn+Peloponnese+Stoudion+Union+Venetian+Turkish+Greeks+Ishak Pasha+Venosa+Roman+Harbour+David Nicolle+Aegean+Latins+Constantinople+European+Black+Second Council+Joan de+Ottoman+Byzantines+Mehmed+Mehmed+Isidore+Golden Horn+1204+1349+Giovanni Giustiniani+Cardinal Isidore+Mehmed II+Conqueror+Ottoman Army+Byzantine+Turkish+Black Sea+Marmara+Genoa+Rumeli Hisarı+Hagia Sophia+Holy Apostles+Rome+Emperor+1453+Golden Horn+Land Wall+Byzantine+Europe+Karadja Pasha+Petra+Ottoman+Christian+Constantinople+Constantinople+Spanish+Black Death+Golden Horn+Niccolò Barbaro+Prince Orhan+Kiev+Giustiniani+Ottoman+European+Golden Horn+1182+Ubertino Pusculo+Mese+Turkish+Eleutherios+Constantinople+Genoese+Genoese Chios+Constantinople+Sultan+Venetians+Novo Brdo+Sea+Byzantine Empire+Turkish+European+Balkans+Latins+Tedaldi+Byzantine+Genoa+Urban+Bosphorus+Filippo Contarini+Sea+Mehmed+Spain+Italy+Forty Italians+Marmara+Archbishop+Giustiniani+Teodoro Caristo+Ottomans+San Romano+Ottoman Turks+Venetians+Ottoman+Byzantines+1274+Mehmed+Turkish+1453+Mehmed II+Constantinople+Ottoman+Greek+Lycus+Genoa+European+Kiev+Western+Aragon+Sphrantzes+Roman+Mehmed+Mehmed II+Mehmed+Nicephorus Palaeologus+Therapia+Sicily+Walls+Serbian+Christian+Mehmed+Mehmed+Epirus+Ottoman+Venetian+Marmara+Golden Horn+Byzantine Empire+Mehmed II+Greeks+1451+Constantinople+Byzantine Emperor Michael+Ottoman+Greeks+Byzantine+Venetians+Constantinople+1453+Mehmed+Genoese+Studius+Blachernae+Gabriele Trevisano+Sea+Venetian+Byzantine+Saruca+Constantine XI Palaiologos+Halil Pasha+Genoese+Vespers+Hagia Sophia+Ottomans+Latin+Hungarian+Bulgarians+Branković+Genoese+Dorgano+Zagan Pasha+Admiral Baltoghlu+1444+Thomas+Ottomans+Charisian Gate+Christian+Constantine XI+Blachernae Palace+Greek+Bosphorus+Venice+France+Turkish+Ancona+Ottoman Empire+Golden Horn+Christian+Nicolò Barbaro+Via+Pope+Pope Nicholas V+Venetian+Emperor Constantine XI Palaiologos+Galata+Cataneo+Venetian+Leonardo+Byzantines+Genoese+Reconquista+Florence+Golden Horn+Pope Nicholas+Poland+Mehmed II+Manuel+1452+Turks+Mehmed+Anatolia+Mehmed+Bocchiardi+Saruca+Trebizond+Constantinople+Byzantines+Horn+Varna+Sea+Archbishop Leonardo+Ottoman+West+Hungary+Pegae Gate+Baltoghlu+Palaiologos+Palaiologoi+Turks+Baltoghlu+Walls+Mytilene Leonardo+Mehmed+Latin+Senate+Giustiniani+Archbishop Leonardo+1450+Great Logothete George Sphrantzes+Princes+Balzo+Fourth Crusade+1453+Emperor+1439+Genoese+Catalan+Ottoman+Byzantine+Sea+Halil Pasha+Kiev+Lyon+Orban+Emperor John+Babylon+Loukas Notaras+Byzantines+Rumeli+Pere Julià+Ottomans+Byzantine Empire+Latins+Byzantine Empire+Constantinople+Saruca+Mehmed+1453+Latin Church+Cardinal Isidore+Demetrius Cantacuzenus+1452+Constantinople+Constantine+Ghazis+Ottoman+Michael Critobulus+West+Holy Roman Empire+Edirne+Lycus+Ugento+Mehmed+Sultan+Roman Empire+Princes+Emperor+Nestor+1204+Empire of Trebizond+Pera+Turkmen+Gallipoli+Zagan Pasha+Constantinople+1204+Council+Hungarian+Constantinople+Golden Horn+Orban+Constantinople+Western+Great+Turakhan Beg+Anatolian Turkmen+Demetrios+Venetian+Europe+Serbs+Greek+Genoese+Constantinople+1261+Nicaea+Bosphorus+Mehmed+metresThe+Langasco+Great Palace+Golden Horn+Turkish+German+Constantinople+Emperor Constantine+Ottoman+Fourth Crusade+Constantinople+Golden Horn+Greek+Ottoman+Johannes Grant+Galata+Battle+George Sphrantzes+Italian+Constantinople+Constantinople+soldiersThe Ottomans+ChioMehmed+Southern Greece+Byzantines+John VIII+Pope+Christian+Neapolitan+Barbaro+Baltoghlu+Ottoman+Mehmed+Giustiniani+Western Europe+Gabriele Orsini+Rumelia+waterThe+Constantine","Cyprus+Venier+Marcantonio Colonna+Genoa+Jacopo Ligozzi+Christians+Cyprus+Mehmed Sirocco+1580+Battle+Papal States+Europe+Sebastiano Venier+Europe+Spain+Knights+Christian+1572+Kingdom+Mediterranean+Barbary+Christian+Turkish+1571+Republic+Nicosia+Lepanto+Holy League+Germans+Venetian+Venetian+Venetian+Holy League+Mediterranean Sea+Ottoman+Ottomans+Friuli+Marco Antonio Bragadin+Greek+Pietro Giustiniani+Europe+Grand Vizier Sokollu Mehmed Pasha+Republic+Patras+Sicily+Turks+Mediterranean+Pisa+Sebastiano Venier+Spanish+Ottoman Empire+Papal States+Venetian+Spanish+Abdul Malik+Italian+Real+Malta+Spaniards+Marcantonio Barbaro+Colonna+1851+Mediterranean+Greeks+1570+Spanish Empire+Christian+Lepanto+Ottoman+Sicily+Ottoman+Christian+Naupactus+Ottoman Empire+Magnificent+Uluç Ali+Sardinia+Kingdom+Europe+Venice+Ottoman+Venice+Ottoman Empire+Holy League+Spain+Christian+Ottoman+Western+Kingdom+Marcantonio Colonna+Pope Pius V+Pope Pius V+Austria+Barbarigo+Messina+Lepanto+Val+Europe+Papal+Greek+Lepanto+squadronsAli Pasha+Don Juan+Turkish+Don Juan+Naples+Knights+Holy League+Ottoman+Corinth+Uluç Ali+Tuscany+Pope Pius V+Pope Pius V+Melilla+Philip II+Savoy+Ottoman+Genoese+Mediterranean+Spanish+Ali Pasha+Holy League+Don Juan+Italian+Müezzinzade Ali Pasha+Pius V+Spain+Sirocco+Ottoman+Ottoman+Spain+Doria+Spanish Crown+Doria+Ottomans+Oran+1645+Orsini+Ottoman+Saint Stephen+Real+Venetian+Uluç Ali+Barbarigo+Turks+Salamis+Fez+Pisa+Malta+Venice+Knights+Colonna+Patras+Dalmatia+Calabria+Spanish+Venetian+Genoese Gianandrea Doria+Spanish Empire+cowardsThe+Real+Ali Pasha+Morocco+Antonio+Venice+Urbino+Venetian+Victory+Sicily+Kingdom+1572+1610+Spanish Tercio+Cretan+1574+Turks+Adriatic+Italian+European+Holy League+Empire+Turkish+Sami+Cyprus+Venetians+Gibraltar+Marcantonio Colonna+Christian+Ottoman Empire+Christians+Knights+Mahomet Sirocco+Ottoman Empire+Philip II+Spanish+Republic+Real+Knights+Roman Marcantonio Colonna+Western+Ceuta+Catholic+Holy League+1572+Christians+Naples+Spanish+Venetian+Saint Stephen+John+Janissaries+Venetian+Kingdom+Papal States+West+John+Colonna+Holy League+Venice+Christian+1576+Ali Pasha+Genoa+Mehmed Şuluk+Don Juan+Andrea+Sirocco+Protestant Reformation+Return+Ottoman+Paul K. Davis+Ottoman+Venetian+Habsburg+Sultan Selim II+Ali Pasha+John+Uluç Ali+1549+Venier+Venetian+Turks+Centre Division+Christian+Ottomans+Santo Stefano+Grand Duchy+Cyprus+Ottoman+Duchy+Ottoman Empire+Tunis+1573+Alexandria+Holy League+Catholic+Barbarigo+Venice+Republic+Austria+Holy League+Holy League+Syrians+John+Turkish+Mediterranean+Naples+Holy League+Tuscany+Cephalonia+Greeks+Eastern Mediterranean+Tunis+Republic+Ottoman+Spain+Pope Pius V+Muslim+Ottoman Empire+Austria+Turks+Ottoman+Doria+Holy League+Left Division+Christian+1573+Turkish+Finlay+Modon+Saint Stephen+Greeks+Austria+Cyprus+Knights+Paolo Giordano+Duchy+Porte+Mediterranean+Christendom+Tuscany+Italian+Messina+Lala Kara Mustafa Pasha+Sirocco+Venice+Austria+Battle+Saint Stephen+Holy League+Turkish+Spanish Empire+Christian+Battle+Pope+North+Ottoman+Grand Duchy+1574+thatThe+Venetian+Kingdoms+Lepanto+1571+1571+Philip II+Cyprus+Christian+Venetian+Lepanto+Venice+Lepanto+Christians+Ottoman+Messina+Holy League+Turkish+Ali+Ottoman+SicilyThe Christian+Kılıç Ali Pasha+John+African+Christian+Sebastiano Venier+Álvaro+Malta+Knights+Christian+Lepanto+Ali Pasha+Austria+Ottoman Empire+Serious+Berbers+Christian+Christian+Greece+Lepanto+Christian+Knights Hospitaller+Genoese Giovanni Andrea Doria+Spanish+Spain+Turks+League+Genoese Gianandrea Doria+Venetian+Christian+George Finlay+Agostino Barbarigo+Selim II+Greek+Sacrament+Battle+Ottoman+Dalmatian+Lepanto+Turkish+Christian+Ottoman+Christian+Christian+1571+John+Sultana+John+Dalmatia+Cyprus+Turks+Doria+Ottoman+Savoy+Savoy+Turks+John+Paul K. Davis+Cavalieri+Philip II+Real+Malta+bowmenThe Christian+Marco Querini+Bazán+Christian+Venetian+Venetian+Spanish Empire+Famagusta+Lepanto+Venetian+Mehmed Siroco+Naples+Western+Messina"]
function wordCloud(selector){var fill=d3.scale.category20();var svg=d3.select(selector).append("svg").attr("width",1000).attr("height","auto").attr("max-height","100%").attr("viewBox","0 0 1000 600").attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(500,300)");function draw(words){var cloud=svg.selectAll("g text").data(words,function(d){return d.text;})
cloud.enter().append("text").style("font-family","Impact").style("fill",function(d,i){return fill(i);}).attr("text-anchor","middle").attr('font-size',1).text(function(d){return d.text;});cloud.transition().duration(600).style("font-size",function(d){return d.size+"px";}).attr("transform",function(d){return"translate("+[d.x,d.y]+")rotate("+d.rotate+")";}).style("fill-opacity",1);cloud.exit().transition().duration(200).style('fill-opacity',1e-6).attr('font-size',1).remove();}
return{update:function(words){d3.layout.cloud().size([1000,600]).words(words).padding(1).spiral("archimedean").rotate(function(){return~~(Math.random()*2)*60;}).font("Impact").fontSize(function(d){return d.size;}).on("end",draw).start();}}}
function calculateFrequency(arr){return arr.reduce(function(countMap,word){word=word.toLowerCase();countMap[word]=(countMap[word]||0)+1;return countMap;},{});}
function getWords(i){var cals=words[i].replace(/[!\,:;\?]/g,'').split('+')
var frequency=calculateFrequency(cals);return cals.map(function(d){var base=Math.random()*60;var normalizedWord=d.toLowerCase();var count=(frequency[normalizedWord]+1>10)?10:frequency[normalizedWord]+1;var acc=1+(count-1)/(10-1);if(d.match(/^\d{4}$/)){acc+=0.15;}
if(/\s/.test(d)&&d.length<20){acc+=0.35}
var size=base*acc*0.8;var r=Math.random();if(size>80){size-=(size-60)*r}
if(size<40){size+=r*(60-size)}
return{text:d,size:size};})}
function showNewWords(vis,i){i=i||0;vis.update(getWords(i++%words.length))
setTimeout(function(){showNewWords(vis,i)},1800)}
var myWordCloud=wordCloud('.about-page');showNewWords(myWordCloud);

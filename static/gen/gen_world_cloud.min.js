var words=["Conqueror+Western Europe+Branković+Halil Pasha+Sultan+Ulubatlı Hasan+Ugento+Walls+Great Logothete George Sphrantzes+Golden Horn+Land Wall+Turkish+Gabriele Orsini+Neapolitan+Rome+Varna+Spain+Tedaldi+Walls+Western+Golden Horn+Byzantine+1453+Mehmed+Constantinople+Luckily+Ottoman+Latin+Massacre+Mehmed+Venetian+Baltoghlu+Ottoman+Mehmed+Serbs+Black Death+Nicolò Barbaro+Fourth Crusade+Pera+Turks+Pope Nicholas V+Venetian+Constantinople+Roman+Golden Horn+Pope Nicholas V+Archbishop Leonardo+ChioMehmed+Hagia Sophia+Venetian+Mehmed+Dorgano+Ottoman+Mehmed II+Golden Horn+Constantinople+Serbian+Ottomans+Kiev+Constantinople+Pope Eugene IV+Greek+Halil Pasha+Latin Church+1346+Venice+Venetian+Mehmed+John VIII+Filippo Contarini+Giustiniani+Constantinople+Aegean+Cataneo+Venetian+Europe+Lyon+Bocchiardi+Mehmed II+Peloponnese+Venetian Crete+Constantine+Nestor+Byzantine+Prince Orhan+Roman+Mehmed+Mehmed+Urban+Loukas Notaras+Christian+Sultan+Bulgarians+Catalan+Greeks+Hungary+Pegae Gate+Vespers+metresThe+Admiral Baltoghlu+Byzantine+Horn+1450+Byzantines+Marmara+Byzantine Emperor Constantine XI+Florentine+Ottomans+Florence+Byzantines+Orban+Golden Horn+France+Venetians+Mehmed+Constantinople+Jacopo Tedaldi+Turks+Republic+Emperor+Sultan+Golden Horn+Ottomans+Turks+Balkans+Venetians+Zagan Pasha+Chio+Genoese+1452+Byzantine+Sphrantzes+Golden Horn+David Nicolle+Niccolò Barbaro+Great+Nicephorus Palaeologus+Langasco+Galata+Forty Italians+Karaca Pasha+Byzantine Emperor Michael+1439+Aegean+Byzantine Empire+Ottomans+Greek+Pope+Roman Empire+Venetian+England+Greek+Sicily+Mehmed+West+Saruca+Ottoman Army+Golden Horn+Capital+Lycus+Blachernae+Genoese+Constantinople+Jacobo Contarini+Byzantines+Constantinople+Venetian+Byzantine+Genoese+Giovanni Giustiniani+Ottoman+Mehmed+San Romano+Chios+Byzantine Empire+Ubertino Pusculo+waterThe+1204+Emperor Constantine XI Palaiologos+Manuel+Mehmed+Ottoman+Sea+Byzantine+Genoese Chios+Genoa+Pope+1349+Sea+Saruca+Genoese+Palaiologoi+Golden Horn+Turkmen+Mehmed+Genoese+Venetians+Serbian+Lycus+Mehmed II+Ottoman+1182+Thomas+1274+Anatolia+Ottomans+Giustiniani+1453+Venosa+Constantinople+Baltoghlu+Golden+Charisian Gate+Archbishop Leonardo+Byzantine+Marmara+Theodosian+Latins+Cardinal Isidore+Venetian+Constantine+Fourth Crusade+Greek+Pope+Holy Apostles+Constantinople+Emperor+Western+Constantinople+Michael Critobulus+Sea+Constantinople+Black+Byzantine+Rumeli+Byzantines+Mehmed+soldiersThe Ottomans+Holy Apostles+Byzantine+Emperor Constantine XI+1453+Ottoman Empire+Orban+Mehmed II+Constantinople+Studius+Ottoman+Mehmed+Senate+Edirne+Harbour+Emperor+Constantinople+Anadolu Hisarı+Edirne+Mehmed+1261+Orban+Russian+Constantinople+Giustiniani+Augusteum+Great+Byzantines+Bosphorus+1453+Emperor+Golden Horn Wall+Mytilene Leonardo+Niccolò Barbaro+Anatolian Turkmen+Turkish+Mehmed II+Fourth Crusade+Orban+1444+John Justinian+Mehmed+Ottoman+1500+Leonardo+Novo Brdo+Golden+Turakhan Beg+Via+Saruca+Genoese+Union+Teodoro Caristo+Church+Princes+Venetians+Spanish+Turkish+Venetians+Petra+Ottoman+Demetrios+Blachernae Palace+European+Kiev+Mese+Mehmed II+Greeks+Greek+Golden Gate+Pope Nicholas+Sea+Ottomans+Greeks+Venetian+Italy+Venice+Mehmed+Latins+Ottoman Turks+Greek+Giovanni Giustiniani+Italians+Genoese+Constantinople+Edirne+Turkish+Sultan+Byzantine Empire+Golden Horn+Constantinople+Marmara+Boğazkesen+1453+Golden Horn+Empire of Trebizond+1452+Great Palace+Golden+Peloponnese+1204+Sultan Mehmed II+Princes+Nicaea+Second Council+Therapia+Naples+Venetian+1452+1452+Genoa+Hagia Sophia+Constantinople+Turkish+Christian+Mehmed+Gallipoli+Black Sea+Hungarian+Turkish+Alviso Diedo+Eleutherios+Ottoman+Reconquista+Girolamo Minotto+Joan de+Christian+Ottoman+Ottoman+Venice+Emperor+France+Giustiniani+Baltoghlu+Europe+Stoudion+Karadja Pasha+Greek+Latin+Rumelia+Demetrius Cantacuzenus+Galata+Genoese+Isidore+Ghazis+Marmara+Cardinal Isidore+Barbaro+Aragon+Trebizond+Zagan Pasha+Genoa+European+Babylon+Constantinople+European+Constantinople+German+Mehmed+Adrianople+Byzantine Church+Sea+Christian+Pere Julià+Cardinal Isidore+Southern Greece+Constantinople+Ottoman+Latins+Branković+Byzantine+Golden Horn+Turkish+Johannes Grant+Constantine XI+Horn+Ottoman+Ottomans+Church+Golden Horn+Byzantine Empire+Rumeli Hisarı+Christian+Byzantines+European+Blachernae+Emperor John+1204+Marmara+1453+Zagan Pasha+Ottoman+Byzantines+Genoese+Byzantines+Poland+Battle+siegeConstantinople+Holy Roman Empire+Galata+West+Greek+Byzantine Empire+Barbaro+Turkish+Archbishop+Kiev+Byzantines+Balzo+Ottoman Empire+Emperor+Emperor Constantine+Palaiologos+Latins+Constantine+Mystras+Bosphorus+Late Middle Ages+Pegae Gate+Constantinople+Bosphorus+Hungarian+Hundred Years+Council+George Sphrantzes+1452+Turks+Golden Horn+Ottoman+Emperor+Constantine XI Palaiologos+1451+Ancona+Kingdoms+Gabriele Trevisano+Ishak Pasha+Ottoman+Constantinople+Constantinople+Italian+Epirus","Naples+Morocco+Mediterranean+Spain+Genoese Gianandrea Doria+Venetian+Mehmed Sirocco+Venetian+thatThe+Greece+Alexandria+Venice+Sultan Selim II+Ottoman Empire+Europe+Calabria+Catholic+Spanish+bowmenThe Christian+Sebastiano Venier+Jacopo Ligozzi+Finlay+Cyprus+Turks+Holy League+Turks+Turkish+Pope Pius V+Sicily+Spain+Dalmatia+Sirocco+Battle+Patras+Christian+Ottoman Empire+Spanish+Christian+1573+Dalmatian+Kingdom+Genoese+Holy League+Christian+Cyprus+Santo Stefano+Ottoman+1549+Western+Lepanto+Janissaries+Spanish Empire+Don Juan+John+Uluç Ali+Spanish Empire+Marcantonio Barbaro+Genoa+Venier+Spanish+Tuscany+Protestant Reformation+Spanish Tercio+Venice+Colonna+Ottoman+Austria+Friuli+Cephalonia+Malta+Venier+Duchy+Lepanto+Venetian+Turks+Mediterranean+Venetian+Don Juan+Salamis+Ottoman+Pisa+Saint Stephen+1571+Ottoman+John+Venice+Spanish+Christian+Italian+Cretan+Doria+West+Battle+Left Division+Orsini+Grand Vizier Sokollu Mehmed Pasha+Ottoman+Battle+Europe+Turkish+Ali Pasha+Müezzinzade Ali Pasha+Spanish Empire+Cavalieri+Marcantonio Colonna+Western+Venice+Pisa+Naples+Mediterranean+Doria+Ottoman+Abdul Malik+Tunis+Uluç Ali+Álvaro+Philip II+Saint Stephen+SicilyThe Christian+Lepanto+Mediterranean+Kingdom+Greeks+Ali Pasha+Turkish+Knights Hospitaller+Naupactus+Kılıç Ali Pasha+Pope Pius V+Christian+Marcantonio Colonna+Greeks+1572+Paul K. Davis+Europe+Germans+Marco Querini+1580+Philip II+Sebastiano Venier+Venetian+Sultana+Papal+1572+Urbino+Andrea+Christian+Sardinia+John+Ottoman+Holy League+Doria+Porte+Pope Pius V+Spaniards+Christian+Knights+Ali Pasha+Western+Holy League+Roman Marcantonio Colonna+John+Uluç Ali+Europe+Real+Republic+Turkish+Tuscany+Holy League+Christian+Lepanto+Venetian+Agostino Barbarigo+Venetian+Pius V+Turkish+Ottoman+Centre Division+1571+Real+Ottoman+Genoa+Spain+Return+Christian+Christian+Holy League+Real+Saint Stephen+John+1574+Spanish+Pope+Nicosia+1576+Christians+Venetian+Ottoman+Malta+Papal States+Mediterranean+Malta+Pietro Giustiniani+Catholic+Holy League+Ottoman Empire+1645+Barbarigo+Ottomans+Savoy+Lepanto+Mehmed Şuluk+1573+Ottoman+Spanish+Turkish+Turks+Fez+Christians+Greeks+Lepanto+Genoese Giovanni Andrea Doria+Pope Pius V+Christian+Grand Duchy+Spain+Ottoman Empire+Ottoman+Marcantonio Colonna+Magnificent+Turks+Holy League+Austria+Lepanto+Greek+Ali+squadronsAli Pasha+Europe+1574+Bazán+Austria+Mehmed Siroco+Kingdom+Antonio+Spanish+Knights+Lepanto+Ottoman Empire+Holy League+Christian+Venetian+Malta+Paul K. Davis+Venice+Knights+Turks+Turks+League+Holy League+Venetian+John+Christian+Val+Cyprus+Venetian+Ali Pasha+Messina+Venetian+Colonna+Syrians+Christian+Spain+Ottoman Empire+1610+Venice+1571+African+Holy League+Spanish Empire+Genoese Gianandrea Doria+Cyprus+Turkish+Patras+Italian+Christian+Ottomans+Christian+Ottomans+Knights+Savoy+Mediterranean+John+George Finlay+Messina+Marco Antonio Bragadin+Venetian+Sami+Venetians+Oran+Ottoman Empire+Melilla+Kingdoms+Holy League+Ottoman+Ottoman+Holy League+Sirocco+Turks+Ottoman+Battle+Christian+Austria+Mahomet Sirocco+Tuscany+Barbarigo+Venice+Austria+Uluç Ali+1851+Sicily+Kingdom+Italian+Barbarigo+European+Mediterranean Sea+Paolo Giordano+Sirocco+Christians+Republic+Venice+Knights+Papal States+Christian+Doria+John+Messina+Spain+Holy League+Grand Duchy+Savoy+Ottoman+Real+Ali Pasha+Don Juan+Christians+Venetian+North+Venetian+Corinth+Republic+Spanish Crown+Real+Don Juan+Christian+Cyprus+Eastern Mediterranean+Christendom+Turkish+Dalmatia+1571+Gibraltar+Lala Kara Mustafa Pasha+Pope Pius V+Berbers+Ceuta+Christian+Kingdom+Republic+cowardsThe+Christian+Barbary+Ottoman Empire+Philip II+Lepanto+1572+Cyprus+Papal States+Philip II+Sacrament+Austria+Muslim+Serious+Victory+Ottoman+Saint Stephen+Venetian+Lepanto+Famagusta+Messina+Empire+Duchy+Ottoman+Sebastiano Venier+Italian+Naples+Cyprus+Adriatic+Modon+Tunis+Lepanto+Habsburg+Venetian+Knights+Holy League+Selim II+Sicily+Greek+Republic+1570+Ottoman+Greek+Ottoman+Colonna+Knights+Naples+Ottoman"]
function wordCloud(selector){var fill=d3.scale.category20();var svg=d3.select(selector).append("svg").attr("width",1000).attr("height","auto").attr("max-height","100%").attr("viewBox","0 0 1000 600").attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform","translate(500,300)");function draw(words){var cloud=svg.selectAll("g text").data(words,function(d){return d.text;})
cloud.enter().append("text").style("font-family","Impact").style("fill",function(d,i){return fill(i);}).attr("text-anchor","middle").attr('font-size',1).text(function(d){return d.text;});cloud.transition().duration(600).style("font-size",function(d){return d.size+"px";}).attr("transform",function(d){return"translate("+[d.x,d.y]+")rotate("+d.rotate+")";}).style("fill-opacity",1);cloud.exit().transition().duration(200).style('fill-opacity',1e-6).attr('font-size',1).remove();}
return{update:function(words){d3.layout.cloud().size([1000,600]).words(words).padding(1).spiral("archimedean").rotate(function(){return~~(Math.random()*2)*60;}).font("Impact").fontSize(function(d){return d.size;}).on("end",draw).start();}}}
function calculateFrequency(arr){return arr.reduce(function(countMap,word){word=word.toLowerCase();countMap[word]=(countMap[word]||0)+1;return countMap;},{});}
function getWords(i){var cals=words[i].replace(/[!\,:;\?]/g,'').split('+')
var frequency=calculateFrequency(cals);return cals.map(function(d){var base=9+Math.random()*45;var normalizedWord=d.toLowerCase();var count=(frequency[normalizedWord]+1>12)?12:frequency[normalizedWord]+1;var acc=1+(count-1)/(12-1);if(d.match(/^\d{4}$/)){acc+=0.3;}
if(/\s/.test(d)&&d.length<20){acc+=0.4}
return{text:d,size:base*acc};})}
function showNewWords(vis,i){i=i||0;vis.update(getWords(i++%words.length))
setTimeout(function(){showNewWords(vis,i)},2000)}
var myWordCloud=wordCloud('.about-page');showNewWords(myWordCloud);

{{ $title := .Get 0 | default "书名未提供" }}
{{ $author := .Get 1 | default "作者未提供" }}
{{ $image := .Get 2 | default "default.jpg" }}
{{ $scale := .Get 3 | default "16" }}

{{ $currentYear := now.Format "2006" }}
{{ $imagePath := printf "/image/%s/%s" $currentYear $image | relURL }}

<div style="display: flex; align-items: flex-start; margin-bottom: 30px;">
    <div style="flex: 0 0 {{ $scale }}%; max-width: {{ $scale }}%; text-align: center; margin-right: 40px;">
        <div style="position: relative; width: 100%; padding-top: 150%; background-color: #ffffff; overflow: hidden;">
            <img src="{{ $imagePath }}" alt="Book Cover" style="max-width: 100%; max-height: 100%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); object-fit: contain; margin: 0;" />
        </div>
        <div style="margin-top: 10px; padding: 5px;">
            <strong>《{{ $title }}》</strong><br>
            <em>{{ $author }}</em>
        </div>
    </div>
    <div style="flex-grow: 1;">
        {{ .Inner | markdownify }}
    </div>
</div>
